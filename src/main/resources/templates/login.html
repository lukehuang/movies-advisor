<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" lang="en"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Welcome to Login page!</title>
    <link rel="stylesheet" th:href="@{css/styles.css}" />
</head>
<body>
    <h1>Welcome to Login page!</h1><br>
    <div th:if="${error}">
        Unable to login. Check your username and password.
    </div>

    <p>New here? Click
        <a th:href="@{/register}">here</a> to register.</p>

    <form method="POST" th:action="@{/login}" id="loginForm">

        <label for="username">Username: </label>
        <input type="text" name="username" id="username" /><br/>
        <label for="password">Password: </label>
        <input type="password" name="password" id="password" /><br/>
        <input type="submit" value="Login"/>

    <a href="/login">Login</a><br>
    <br>
    <div th:fragment="logout" class="logout" sec:authorize="isAuthenticated()">
        Logged in user: <span sec:authentication="name"></span> |
        Roles: <span sec:authentication="principal.authorities"></span>
        <div>
            <form action="#" th:action="@{/logout}" method="post">
                <input type="submit" value="Logout" />
            </form>
        </div>
    </div>
    <br>
        <br>
    <a href="/users/registration">Register Sign up</a><br>
        <form method="POST" th:action="@{/logout}">
        <input type="submit" value="Logout"/>
        </form>
    <a href="/movies">Movies</a><br>
    <img th:src="@{/images/MovieAdvisorLogo.png}"/>

</body>
</html>